import{u as Q}from"./vue.f36acd1f.1ed28ab0.js";import{f as B,r as U,g as A,h as X,i as Y,j as S,k as j,o as D,c as z,l as W,F as O,m as J,n as K,w as V,q as P,t as ee,s as ne,u as te,v as k,_ as oe,x as re,b as T,a as F,d as $,y as se}from"./entry.6511e5b3.js";import{p as ie}from"./parseMD.d2c01e17.js";import{_ as ue}from"./nuxt-link.9b6135da.js";const ae=n=>Object.fromEntries(Object.entries(n).filter(([,e])=>e!==void 0)),le=(n,e)=>(t,o)=>(Q(()=>n({...ae(t),...o.attrs},o)),()=>{var s,r;return e?(r=(s=o.slots).default)==null?void 0:r.call(s):null}),ce=B({name:"Title",inheritAttrs:!1,setup:le((n,{slots:e})=>{var t,o,s;return{title:((s=(o=(t=e.default)==null?void 0:t.call(e))==null?void 0:o[0])==null?void 0:s.children)||null}})});function x(){}x.prototype={diff:function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.callback;typeof o=="function"&&(s=o,o={}),this.options=o;var r=this;function l(f){return s?(setTimeout(function(){s(void 0,f)},0),!0):f}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var a=t.length,i=e.length,u=1,c=a+i;o.maxEditLength&&(c=Math.min(c,o.maxEditLength));var d=[{newPos:-1,components:[]}],v=this.extractCommon(d[0],t,e,0);if(d[0].newPos+1>=a&&v+1>=i)return l([{value:this.join(t),count:t.length}]);function p(){for(var f=-1*u;f<=u;f+=2){var h=void 0,w=d[f-1],m=d[f+1],y=(m?m.newPos:0)-f;w&&(d[f-1]=void 0);var C=w&&w.newPos+1<a,_=m&&0<=y&&y<i;if(!C&&!_){d[f]=void 0;continue}if(!C||_&&w.newPos<m.newPos?(h=pe(m),r.pushComponent(h.components,void 0,!0)):(h=w,h.newPos++,r.pushComponent(h.components,!0,void 0)),y=r.extractCommon(h,t,e,f),h.newPos+1>=a&&y+1>=i)return l(fe(r,h.components,t,e,r.useLongestToken));d[f]=h}u++}if(s)(function f(){setTimeout(function(){if(u>c)return s();p()||f()},0)})();else for(;u<=c;){var g=p();if(g)return g}},pushComponent:function(e,t,o){var s=e[e.length-1];s&&s.added===t&&s.removed===o?e[e.length-1]={count:s.count+1,added:t,removed:o}:e.push({count:1,added:t,removed:o})},extractCommon:function(e,t,o,s){for(var r=t.length,l=o.length,a=e.newPos,i=a-s,u=0;a+1<r&&i+1<l&&this.equals(t[a+1],o[i+1]);)a++,i++,u++;return u&&e.components.push({count:u}),e.newPos=a,i},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],o=0;o<e.length;o++)e[o]&&t.push(e[o]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function fe(n,e,t,o,s){for(var r=0,l=e.length,a=0,i=0;r<l;r++){var u=e[r];if(u.removed){if(u.value=n.join(o.slice(i,i+u.count)),i+=u.count,r&&e[r-1].added){var d=e[r-1];e[r-1]=e[r],e[r]=d}}else{if(!u.added&&s){var c=t.slice(a,a+u.count);c=c.map(function(p,g){var f=o[i+g];return f.length>p.length?f:p}),u.value=n.join(c)}else u.value=n.join(t.slice(a,a+u.count));a+=u.count,u.added||(i+=u.count)}}var v=e[l-1];return l>1&&typeof v.value=="string"&&(v.added||v.removed)&&n.equals("",v.value)&&(e[l-2].value+=v.value,e.pop()),e}function pe(n){return{newPos:n.newPos,components:n.components.slice(0)}}var de=new x;function me(n,e,t){return de.diff(n,e,t)}var R=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,H=/\S/,b=new x;b.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!H.test(n)&&!H.test(e)};b.tokenize=function(n){for(var e=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&R.test(e[t])&&R.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};var Z=new x;Z.tokenize=function(n){var e=[],t=n.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var o=0;o<t.length;o++){var s=t[o];o%2&&!this.options.newlineIsToken?e[e.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),e.push(s))}return e};var ve=new x;ve.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};var he=new x;he.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function M(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(e){return typeof e}:M=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(n)}var _e=Object.prototype.toString,N=new x;N.useLongestToken=!0;N.tokenize=Z.tokenize;N.castInput=function(n){var e=this.options,t=e.undefinedReplacement,o=e.stringifyReplacer,s=o===void 0?function(r,l){return typeof l>"u"?t:l}:o;return typeof n=="string"?n:JSON.stringify(I(n,null,null,s),s,"  ")};N.equals=function(n,e){return x.prototype.equals.call(N,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function I(n,e,t,o,s){e=e||[],t=t||[],o&&(n=o(s,n));var r;for(r=0;r<e.length;r+=1)if(e[r]===n)return t[r];var l;if(_e.call(n)==="[object Array]"){for(e.push(n),l=new Array(n.length),t.push(l),r=0;r<n.length;r+=1)l[r]=I(n[r],e,t,o,s);return e.pop(),t.pop(),l}if(n&&n.toJSON&&(n=n.toJSON()),M(n)==="object"&&n!==null){e.push(n),l={},t.push(l);var a=[],i;for(i in n)n.hasOwnProperty(i)&&a.push(i);for(a.sort(),r=0;r<a.length;r+=1)i=a[r],l[i]=I(n[i],e,t,o,i);e.pop(),t.pop()}else l=n;return l}var q=new x;q.tokenize=function(n){return n.slice()};q.join=q.removeEmpty=function(n){return n};const ye=async(n,e)=>me(n,e),we=B({__name:"AnimatedMarkdown",props:{md:{default:"# MD_NOT_PROVIDED"}},setup(n){const e=n,t=U([]),o=["font"],s=A([0,0]),r=A(),l=async(a,{sessionId:i})=>{let u=await ie(a,!0),c=0;const d=[];u=u.replaceAll(/(\[c\](.))|\[b\]/g,(m,y,C)=>(C?d.push(C):d.push(`
`),C?`<span class="${i}-${c++}">${C}</span>`:`<br class="${i}-${c++}">`));const v=d.join(""),p=document.createElement("div");p.style.width="max-content",p.style.position="fixed",p.style.top="0",p.innerHTML=u,r.value.appendChild(p);const g=p.getBoundingClientRect(),f=[g.width,g.height],h=[];for(var w=0;w<c;w++){const m=p.querySelector(`.${i}-${w}`);if(m instanceof HTMLSpanElement){const y=m.getBoundingClientRect(),C=window.getComputedStyle(m),_={};for(const E of o)_[E]=C.getPropertyValue(E);h.push([y.x,y.y,_])}else m instanceof HTMLBRElement&&h.push([0,0,{break:"true"}])}return r.value.removeChild(p),{plane:v,count:c,rects:h,parentNodeSize:f}};return X(()=>{let a=0,i=[];Y(S(e,"md"),async(u,c="")=>{const d="_"+Math.random().toString(36).substring(2),{plane:v,count:p,rects:g,parentNodeSize:f}=await l(u,{sessionId:d});s.value=f;const{plane:h}=await l(c,{sessionId:d+"_"}),w=await ye(h,v);let m=0,y=0;const C={};for(const E of w){const L=E.count||0;for(var _=0;_<L;_++){const G=E.value.charAt(_);E.added&&i.splice(m+y,0,{c:G,k:a++}),E.removed&&(i.splice(m+y,1),y--),C[m]=m+y,m++}}t.length=0;for(var _=0;_<p;_++){const L=i[_];t.push({r:g[_],k:L==null?void 0:L.k,c:L==null?void 0:L.c})}},{immediate:!0})}),(a,i)=>{const u=j("auto-animate");return D(),z("div",null,[W((D(),z("div",{class:"anim-md w-full",ref_key:"mdElement",ref:r},[(D(!0),z(O,null,J(k(t),c=>(D(),K(te(c.r[2].break?"br":"span"),{class:"inline-block",key:c.k},{default:V(()=>[c.r[2].break?ne("",!0):(D(),z("span",{key:0,class:"animation whitespace-pre",style:P(c.r)},ee(c.c),5))]),_:2},1024))),128))])),[[u]])])}}});const Ce=oe(we,[["__scopeId","data-v-99424286"]]),ge=["onUpdate:modelValue"],ze=B({__name:"index",setup(n){const e=A(""),t=()=>o.push("#".repeat(Math.random()*4+1)+" "+Math.random().toString(16).substring(2)),o=U([]);for(var s=0;s<8;s++)t();s=0;const r=setInterval(()=>{e.value=o[s],s=(s+1)%o.length},1e3);return re(()=>{clearInterval(r)}),(l,a)=>{const i=ce,u=Ce,c=ue;return D(),z(O,null,[T(i,null,{default:V(()=>[$("Animate Markdown Changes")]),_:1}),T(u,{md:k(e)},null,8,["md"]),(D(!0),z(O,null,J(k(o),(d,v)=>W((D(),z("textarea",{class:"w-full",key:v,"onUpdate:modelValue":p=>k(o)[v]=p},null,8,ge)),[[se,k(o)[v]]])),128)),F("button",{onClick:t},"ADD"),F("div",null,[$("For license inforamation please see"),T(c,{to:"/license"},{default:V(()=>[$("/license")]),_:1})])],64)}}});export{ze as default};
